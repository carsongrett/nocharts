<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataProcessor Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>DataProcessor Function Test</h1>
    
    <div class="test-section">
        <h3>Test DataProcessor Functions</h3>
        <button onclick="testDataProcessor()">Test DataProcessor</button>
        <div id="results"></div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/data.js"></script>
    
    <script>
        function testDataProcessor() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<p class="info">Testing DataProcessor functions...</p>';
            
            try {
                const functions = [
                    'processFinnhubProfile',
                    'processFinnhubQuote',
                    'processStockOverview',
                    'processStockQuote',
                    'processNewsArticles'
                ];
                
                let results = '<p class="success">✅ DataProcessor function test:</p>';
                
                functions.forEach(funcName => {
                    if (typeof DataProcessor[funcName] === 'function') {
                        results += `<p class="success">✅ ${funcName} is available</p>`;
                    } else {
                        results += `<p class="error">❌ ${funcName} is NOT available</p>`;
                    }
                });
                
                // Test with sample data
                const sampleProfile = {
                    ticker: 'AAPL',
                    name: 'Apple Inc.',
                    exchange: 'NASDAQ',
                    marketCapitalization: 3000000000000
                };
                
                try {
                    const processed = DataProcessor.processFinnhubProfile(sampleProfile);
                    results += `<p class="success">✅ processFinnhubProfile works with sample data</p>`;
                    results += `<p><strong>Processed name:</strong> ${processed.name}</p>`;
                } catch (error) {
                    results += `<p class="error">❌ processFinnhubProfile failed: ${error.message}</p>`;
                }
                
                resultsDiv.innerHTML = results;
            } catch (error) {
                resultsDiv.innerHTML = `<p class="error">❌ DataProcessor test error: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html> 